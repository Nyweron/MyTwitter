var app=angular.module("app",["ngRoute"]);angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc",function(e,o){e.$on("login",function(o,t){e.currentUser=t}),e.$on("register",function(o,t){e.registerResponse=t}),e.disableRegisterResponse=function(){e.registerResponse=null},e.logout=function(){console.log("logout"),e.currentUser=null,o.logout()}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc",function(e,o){e.login=function(t,n){o.login(t,n).then(function(o){e.$emit("login",o)})}}]),app.controller("PostsCtrl",["$scope","PostsSvc",function(e,o){e.addPost=function(){e.postBody&&o.create({username:"nyweron",body:e.postBody}).success(function(o){e.postBody=null})},e.$on("ws:new_post",function(o,t){e.$apply(function(){console.log("fdsfd"),e.posts.unshift(t)})}),o.fetch().success(function(o){e.posts=o})}]),app.service("PostsSvc",["$http",function(e){this.fetch=function(){return e.get("/posts")},this.create=function(o){return e.post("/posts",o)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc",function(e,o){e.register=function(t,n){e.nameRequired="",e.passwordRequired="",e.nameRequired=t?"":"Name Required",e.passwordRequired=n?"":"Password Required",t&&n&&o.register(t,n).then(function(o){e.$emit("register","Konto zarejestrowane poprawnie, zaloguj siÄ™."),e.username="",e.password=""})}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"}).when("/logout",{controller:"ApplicationCtrl",templateUrl:"login.html"})}]),angular.module("app").service("UserSvc",["$http",function(e){var o=this;o.getUser=function(){return e.get("/users").then(function(e){return e.data})},o.login=function(t,n){return e.post("/sessions",{username:t,password:n}).then(function(t){return o.token=t.data,e.defaults.headers.common["X-Auth"]=t.data,o.getUser()})},o.register=function(o,t){return e.post("/users",{username:o,password:t}).then(function(e){return e})},o.logout=function(){delete e.defaults.headers.common["X-Auth"]}}]),angular.module("app").run(["$rootScope",function(e){var o=new WebSocket("ws://localhost:3002");o.onopen=function(){console.log("WebSocket connected")},o.onmessage=function(o){console.log("fdsfd");var t=JSON.parse(o.data);console.log("payload.topic:"+t.topic),e.$broadcast("ws:"+t.topic,t.data)}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJlZ2lzdGVyLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLnN2Yy5qcyIsIndlYnNvY2tldHMuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJVc2VyU3ZjIiwiJG9uIiwiXyIsInVzZXIiLCJjdXJyZW50VXNlciIsInJlc3BvbnNlIiwicmVnaXN0ZXJSZXNwb25zZSIsImRpc2FibGVSZWdpc3RlclJlc3BvbnNlIiwibG9nb3V0IiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInRoZW4iLCIkZW1pdCIsIlBvc3RzU3ZjIiwiYWRkUG9zdCIsInBvc3RCb2R5IiwiY3JlYXRlIiwiYm9keSIsInN1Y2Nlc3MiLCJwb3N0IiwiJGFwcGx5IiwicG9zdHMiLCJ1bnNoaWZ0IiwiZmV0Y2giLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicmVnaXN0ZXIiLCJuYW1lUmVxdWlyZWQiLCJwYXNzd29yZFJlcXVpcmVkIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJzdmMiLCJnZXRVc2VyIiwiZGF0YSIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwicnVuIiwiJHJvb3RTY29wZSIsImNvbm5lY3Rpb24iLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJlIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsInRvcGljIiwiJGJyb2FkY2FzdCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQUEsSUFBQUMsUUFBQUMsT0FBQSxPQUNBLFlDREFELFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsR0FDQUQsRUFB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SUFBQUMsVUFEQSx1QkFHQUQsRUFBQUUsT0FBQSxXQUNBeEMsUUFBQUMsSUFBQSx3QkFHQXFDLEVBQUFHLFVBQUEsU0FBQUMsR0FDQTFDLFFBQUFDLElBQUEsU0FDQSxJQUFBMEMsRUFBQUMsS0FBQUMsTUFBQUgsRUFBQVgsTUFDQS9CLFFBQUFDLElBQUEsaUJBQUEwQyxFQUFBRyxPQUNBVCxFQUFBVSxXQUFBLE1BQUFKLEVBQUFHLE1BQUFILEVBQUFaIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xyXG4gICAgJ25nUm91dGUnXHJcbl0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjKSB7XHJcbiAgICAgICAgJHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbihfLCB1c2VyKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJcclxuICAgICAgICB9KVxyXG4gICAgICAgICRzY29wZS4kb24oJ3JlZ2lzdGVyJywgZnVuY3Rpb24oXywgcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnJlZ2lzdGVyUmVzcG9uc2UgPSByZXNwb25zZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgICRzY29wZS5kaXNhYmxlUmVnaXN0ZXJSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUucmVnaXN0ZXJSZXNwb25zZSA9IG51bGxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2dvdXRcIilcclxuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRVc2VyID0gbnVsbFxyXG4gICAgICAgICAgICBVc2VyU3ZjLmxvZ291dCgpXHJcbiAgICAgICAgfVxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMpIHtcclxuICAgICAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgVXNlclN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdsb2dpbicsIHVzZXIpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYXBwLmNvbnRyb2xsZXIoJ1Bvc3RzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgUG9zdHNTdmMpIHtcclxuICAgICRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCRzY29wZS5wb3N0Qm9keSkge1xyXG4gICAgICAgICAgICBQb3N0c1N2Yy5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6ICdueXdlcm9uJyxcclxuICAgICAgICAgICAgICAgIGJvZHk6ICRzY29wZS5wb3N0Qm9keVxyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKHBvc3QpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0Qm9keSA9IG51bGxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgICRzY29wZS4kb24oJ3dzOm5ld19wb3N0JywgZnVuY3Rpb24oXywgcG9zdCkge1xyXG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmRzZmRcIilcclxuICAgICAgICAgICAgJHNjb3BlLnBvc3RzLnVuc2hpZnQocG9zdClcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBQb3N0c1N2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24ocG9zdHMpIHtcclxuICAgICAgICAkc2NvcGUucG9zdHMgPSBwb3N0c1xyXG4gICAgfSlcclxuXHJcbn0pIiwiYXBwLnNlcnZpY2UoJ1Bvc3RzU3ZjJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XHJcblxyXG4gICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9wb3N0cycpXHJcbiAgICB9XHJcbiAgICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL3Bvc3RzJywgcG9zdClcclxuICAgIH1cclxufV0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjKSB7XHJcbiAgICAgICAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5uYW1lUmVxdWlyZWQgPSAnJ1xyXG4gICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRSZXF1aXJlZCA9ICcnXHJcblxyXG4gICAgICAgICAgICBpZiAoIXVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVJlcXVpcmVkID0gJ05hbWUgUmVxdWlyZWQnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVSZXF1aXJlZCA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRSZXF1aXJlZCA9ICdQYXNzd29yZCBSZXF1aXJlZCc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFzc3dvcmRSZXF1aXJlZCA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXJuYW1lICYmIHBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBVc2VyU3ZjLnJlZ2lzdGVyKHVzZXJuYW1lLCBwYXNzd29yZClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ3JlZ2lzdGVyJywgXCJLb250byB6YXJlamVzdHJvd2FuZSBwb3ByYXduaWUsIHphbG9ndWogc2nEmS5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFzc3dvcmQgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHt9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLndoZW4oJy8nLCB7IGNvbnRyb2xsZXI6ICdQb3N0c0N0cmwnLCB0ZW1wbGF0ZVVybDogJ3Bvc3RzLmh0bWwnIH0pXHJcbiAgICAgICAgICAgIC53aGVuKCcvcmVnaXN0ZXInLCB7IGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLmh0bWwnIH0pXHJcbiAgICAgICAgICAgIC53aGVuKCcvbG9naW4nLCB7IGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2xvZ2luLmh0bWwnIH0pXHJcbiAgICAgICAgICAgIC53aGVuKCcvbG9nb3V0JywgeyBjb250cm9sbGVyOiAnQXBwbGljYXRpb25DdHJsJywgdGVtcGxhdGVVcmw6ICdsb2dpbi5odG1sJyB9KVxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAgIC5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24oJGh0dHApIHtcclxuICAgICAgICB2YXIgc3ZjID0gdGhpc1xyXG4gICAgICAgIHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy91c2VycycpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdmMubG9naW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9zZXNzaW9ucycsIHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBzdmMudG9rZW4gPSByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSByZXNwb25zZS5kYXRhXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ZjLmdldFVzZXIoKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBzdmMucmVnaXN0ZXIgPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy91c2VycycsIHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXVxyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcclxuICAgICAgICB2YXIgdXJsID0gJ3dzOi8vbG9jYWxob3N0OjMwMDInXHJcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBuZXcgV2ViU29ja2V0KHVybClcclxuXHJcbiAgICAgICAgY29ubmVjdGlvbi5vbm9wZW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0ZWQnKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29ubmVjdGlvbi5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmRzZmRcIilcclxuICAgICAgICAgICAgdmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKGUuZGF0YSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwYXlsb2FkLnRvcGljOlwiICsgcGF5bG9hZC50b3BpYylcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd3czonICsgcGF5bG9hZC50b3BpYywgcGF5bG9hZC5kYXRhKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KSJdfQ==
